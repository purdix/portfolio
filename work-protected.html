<!DOCTYPE html>
<html lang="en">
<head>
    <title>Work - Kogulan Sivaneshan</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
      <meta name="theme-color" content="#000000" />
        <!-- Favicons -->
  <link rel="shortcut icon" href="files/favicon/favicon.ico">
  <link rel="icon" sizes="16x16 32x32 64x64" href="files/favicon/favicon.ico">
  <link rel="icon" type="image/png" sizes="196x196" href="files/favicon/favicon-192.png">
  <link rel="icon" type="image/png" sizes="160x160" href="files/favicon/favicon-160.png">
  <link rel="icon" type="image/png" sizes="96x96" href="files/favicon/favicon-96.png">
  <link rel="icon" type="image/png" sizes="64x64" href="files/favicon/favicon-64.png">
  <link rel="icon" type="image/png" sizes="32x32" href="files/favicon/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="files/favicon/favicon-16.png">
  <link rel="apple-touch-icon" href="files/favicon/favicon-57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="files/favicon/favicon-114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="files/favicon/favicon-72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="files/favicon/favicon-144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="files/favicon/favicon-60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="files/favicon/favicon-120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="files/favicon/favicon-76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="files/favicon/favicon-152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="files/favicon/favicon-180.png">
  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="files/favicon/favicon-144.png">
  <meta name="msapplication-config" content="files/favicon/browserconfig.xml">
  <!-- Meta properties -->
  <meta charset="utf-8">
  <meta name="author" content="Kogulan Sivaneshan">
  <meta name="description" content="Hi, I'm Kogulan. A product designer with a background in life science dedicated to crafting memorable, research-based experiences.">
  <meta name="keywords" content="kogulan sivaneshan, designer, ui/ux, product design, portfolio, personal website, ubisoft, design, user experience">
  <meta property="og:title" content="Kogulan Sivaneshan | Portfolio">
  <meta property="og:description" content="Product designer based in Toronto.">
  <meta property="og:url" content="https://www.kogulan.ca/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://www.kogulan.ca/files/og-image.jpg">
  <meta property="og:image:url" content="https://www.kogulan.ca/files/og-image.jpg">
  <meta name="theme-color" content="#000000" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap & Font Awesome -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Syne:wght@400..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <!-- Extras -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="./css/main.css" rel="stylesheet">
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body class="bg">
<nav class="fixed-top navbar-expand-md navbar-default py-3 d-flex align-items-center" id="mainNav" aria-label="Main">
    <a class="navbar-brand" href="./index.html">
        <img class="logo" src="./files/logo.svg" alt="Kogulan Sivaneshan">
    </a>
    <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item px-2 active">
                <a class="nav-link" aria-current="page" href="./work-protected.html">Work</a>
            </li>
            <li class="nav-item px-2">
                <a class="nav-link" href="./about.html">About</a>
            </li>
        </ul>
    </div>
</nav>

<main id="home">
            <div class="password-bg absolute bg-shape">
          <div class="bg-shape1 bg-1 bg-blur"></div>
          <div class="bg-shape2 bg-2 bg-blur">  </div>
          <div class="bg-shape3 bg-3 bg-blur"></div>
          <div class="bg-shape4 bg-4 bg-blur"></div>
        </div>
  <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
  <div id="dialogWrap">
    <div id="dialogWrapCell">
        <div class="animate__animated animate__fadeInUp">
            <div id="mainDialog">
                <div id="passArea">
                    <img class="lock"src="./files/icons/lock.png">
                    <input id="pass" type="password" name="pass" autofocus placeholder="Enter password">
                    
                    <div id="messageWrapper">
                        <span id="invalidPass" class="error">Incorrect password! 😖</span>
                        <span id="trycatcherror" class="error">Sorry, something went wrong!</span>
                        <span id="success" class="notifyText">Success!</span>
                    </div>
                    
                    <div id="checkboxWrapper">
                        <label class="checkboxContainer">
                            <input type="checkbox" onclick="myFunction()">
                            <span class="checkmark"></span> Show password
                        </label>
                    </div>

                    <button id="submitPass" type="button">Submit</button>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
</main>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script src="./js/script.js"></script>

<script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
                )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
                )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                    );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                <script>
                Array.from(document.links).forEach((anchor) => {
                    const href = anchor.getAttribute("href");
                    if (href.startsWith("#")) {
                        anchor.addEventListener("click", function(e) {
                            e.preventDefault();
                            const targetId = this.getAttribute("href").substring(1);
                            const targetEl = document.getElementById(targetId);
                            targetEl.scrollIntoView();
                        });
                    }
                });
                <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                });
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
          }
      }
  })();
</script>
</body>
</html>
