<!DOCTYPE html>
<html lang="en">
<head>
    <title>Work - Kogulan Sivaneshan</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
      <meta name="theme-color" content="#000000" />
        <!-- Favicons -->
  <link rel="shortcut icon" href="files/favicon/favicon.ico">
  <link rel="icon" sizes="16x16 32x32 64x64" href="files/favicon/favicon.ico">
  <link rel="icon" type="image/png" sizes="196x196" href="files/favicon/favicon-192.png">
  <link rel="icon" type="image/png" sizes="160x160" href="files/favicon/favicon-160.png">
  <link rel="icon" type="image/png" sizes="96x96" href="files/favicon/favicon-96.png">
  <link rel="icon" type="image/png" sizes="64x64" href="files/favicon/favicon-64.png">
  <link rel="icon" type="image/png" sizes="32x32" href="files/favicon/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="files/favicon/favicon-16.png">
  <link rel="apple-touch-icon" href="files/favicon/favicon-57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="files/favicon/favicon-114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="files/favicon/favicon-72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="files/favicon/favicon-144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="files/favicon/favicon-60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="files/favicon/favicon-120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="files/favicon/favicon-76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="files/favicon/favicon-152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="files/favicon/favicon-180.png">
  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="files/favicon/favicon-144.png">
  <meta name="msapplication-config" content="files/favicon/browserconfig.xml">
  <!-- Meta properties -->
  <meta charset="utf-8">
  <meta name="author" content="Kogulan Sivaneshan">
  <meta name="description" content="Hi, I'm Kogulan. A product designer with a background in life science dedicated to crafting memorable, research-based experiences.">
  <meta name="keywords" content="kogulan sivaneshan, designer, ui/ux, product design, portfolio, personal website, ubisoft, design, user experience">
  <meta property="og:title" content="Kogulan Sivaneshan | Portfolio">
  <meta property="og:description" content="Product designer based in Toronto.">
  <meta property="og:url" content="https://www.kogulan.ca/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://www.kogulan.ca/files/og-image.jpg">
  <meta property="og:image:url" content="https://www.kogulan.ca/files/og-image.jpg">
  <meta name="theme-color" content="#000000" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap & Font Awesome -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Syne:wght@400..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <!-- Extras -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="./css/main.css" rel="stylesheet">
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body class="bg">
<nav class="fixed-top navbar-expand-md navbar-default py-3 d-flex align-items-center" id="mainNav" aria-label="Main">
    <a class="navbar-brand" href="./index.html">
        <img class="logo" src="./files/logo.svg" alt="Kogulan Sivaneshan">
    </a>
    <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item px-2 active">
                <a class="nav-link" aria-current="page" href="./work-protected.html">Work</a>
            </li>
            <li class="nav-item px-2">
                <a class="nav-link" href="./about.html">About</a>
            </li>
        </ul>
    </div>
</nav>

<main id="home">
            <div class="password-bg absolute bg-shape">
          <div class="bg-shape1 bg-1 bg-blur"></div>
          <div class="bg-shape2 bg-2 bg-blur">  </div>
          <div class="bg-shape3 bg-3 bg-blur"></div>
          <div class="bg-shape4 bg-4 bg-blur"></div>
        </div>
  <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
  <div id="dialogWrap">
    <div id="dialogWrapCell">
        <div class="animate__animated animate__fadeInUp">
            <div id="mainDialog">
                <div id="passArea">
                    <img class="lock"src="./files/icons/lock.png">
                    <input id="pass" type="password" name="pass" autofocus placeholder="Enter password">
                    
                    <div id="messageWrapper">
                        <span id="invalidPass" class="error">Incorrect password! 😖</span>
                        <span id="trycatcherror" class="error">Sorry, something went wrong!</span>
                        <span id="success" class="notifyText">Success!</span>
                    </div>
                    
                    <div id="checkboxWrapper">
                        <label class="checkboxContainer">
                            <input type="checkbox" onclick="myFunction()">
                            <span class="checkmark"></span> Show password
                        </label>
                    </div>

                    <button id="submitPass" type="button">Submit</button>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
</main>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script src="./js/script.js"></script>

<script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
                )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
                )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                    );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                <script>
                Array.from(document.links).forEach((anchor) => {
                    const href = anchor.getAttribute("href");
                    if (href.startsWith("#")) {
                        anchor.addEventListener("click", function(e) {
                            e.preventDefault();
                            const targetId = this.getAttribute("href").substring(1);
                            const targetEl = document.getElementById(targetId);
                            targetEl.scrollIntoView();
                        });
                    }
                });
                <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                });
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
          }
      }
  })();
</script>
</body>
</html>
