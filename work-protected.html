<!DOCTYPE html>
<html lang="en">
<head>
    <title>Work - Kogulan Sivaneshan</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
      <meta name="theme-color" content="#000000" />
        <!-- Favicons -->
  <link rel="shortcut icon" href="files/favicon/favicon.ico">
  <link rel="icon" sizes="16x16 32x32 64x64" href="files/favicon/favicon.ico">
  <link rel="icon" type="image/png" sizes="196x196" href="files/favicon/favicon-192.png">
  <link rel="icon" type="image/png" sizes="160x160" href="files/favicon/favicon-160.png">
  <link rel="icon" type="image/png" sizes="96x96" href="files/favicon/favicon-96.png">
  <link rel="icon" type="image/png" sizes="64x64" href="files/favicon/favicon-64.png">
  <link rel="icon" type="image/png" sizes="32x32" href="files/favicon/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="files/favicon/favicon-16.png">
  <link rel="apple-touch-icon" href="files/favicon/favicon-57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="files/favicon/favicon-114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="files/favicon/favicon-72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="files/favicon/favicon-144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="files/favicon/favicon-60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="files/favicon/favicon-120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="files/favicon/favicon-76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="files/favicon/favicon-152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="files/favicon/favicon-180.png">
  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="files/favicon/favicon-144.png">
  <meta name="msapplication-config" content="files/favicon/browserconfig.xml">
  <!-- Meta properties -->
  <meta charset="utf-8">
  <meta name="author" content="Kogulan Sivaneshan">
  <meta name="description" content="Hi, I'm Kogulan. A product designer with a background in life science dedicated to crafting memorable, research-based experiences.">
  <meta name="keywords" content="kogulan sivaneshan, designer, ui/ux, product design, portfolio, personal website, ubisoft, design, user experience">
  <meta property="og:title" content="Kogulan Sivaneshan | Portfolio">
  <meta property="og:description" content="Product designer based in Toronto.">
  <meta property="og:url" content="https://www.kogulan.ca/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://www.kogulan.ca/files/og-image.jpg">
  <meta property="og:image:url" content="https://www.kogulan.ca/files/og-image.jpg">
  <meta name="theme-color" content="#000000" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap & Font Awesome -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Syne:wght@400..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <!-- Extras -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="./css/main.css" rel="stylesheet">
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body class="bg">

  <nav class="fixed-top navbar-expand-md navbar-default py-3 d-flex align-items-center" aria-label="Main">
    <a class="navbar-brand" href="./index.html">
        <img class="logo" src="./files/logo.svg" alt="Kogulan Sivaneshan">
    </a>
    <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item px-2 active">
                <a class="nav-link" aria-current="page" href="./work-protected.html">Work</a>
            </li>
            <li class="nav-item px-2">
                <a class="nav-link" href="./about.html">About</a>
            </li>
        </ul>
    </div>
</nav>

<main id="home">
            <div class="password-bg absolute bg-shape">
          <div class="bg-shape1 bg-1 bg-blur"></div>
          <div class="bg-shape2 bg-2 bg-blur">  </div>
          <div class="bg-shape3 bg-3 bg-blur"></div>
          <div class="bg-shape4 bg-4 bg-blur"></div>
        </div>
  <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
  <div id="dialogWrap">
    <div id="dialogWrapCell">
        <div class="animate__animated animate__fadeInUp">
            <div id="mainDialog">
                <div id="passArea">
                    <img class="lock"src="./files/icons/lock.png">
                    <input id="pass" type="password" name="pass" autofocus placeholder="Enter password">
                    
                    <div id="messageWrapper">
                        <span id="invalidPass" class="error">Incorrect password! 😖</span>
                        <span id="trycatcherror" class="error">Sorry, something went wrong!</span>
                        <span id="success" class="notifyText">Success!</span>
                    </div>
                    
                    <div id="checkboxWrapper">
                        <label class="checkboxContainer">
                            <input type="checkbox" onclick="myFunction()">
                            <span class="checkmark"></span> Show password
                        </label>
                    </div>

                    <button id="submitPass" type="submit">Submit</button>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
</main>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');

        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
                )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
                )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32);
                iv = unencodedPl.slice(32, 32 + 16);
                ciphertext = unencodedPl.slice(32 + 16);

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                    );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                <script>
                Array.from(document.links).forEach((anchor) => {
                    const href = anchor.getAttribute("href");
                    if (href.startsWith("#")) {
                        anchor.addEventListener("click", function(e) {
                            e.preventDefault();
                            const targetId = this.getAttribute("href").substring(1);
                            const targetEl = document.getElementById(targetId);
                            targetEl.scrollIntoView();
                        });
                    }
                });
                <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";

                setTimeout(function() {
                    dialogWrap.style.display = "none";
                });
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
          }
      }

  })();
</script>
<script src="./js/script.js"></script>

</body>
</html>
